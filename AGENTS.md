# Repository Guidelines

## Project Structure & Module Organization

- `src/` contains extension code.
- `src/entries/` holds entry points: `background/` (service worker), `popup/`, and `options/`.
- `src/lib/` provides shared utilities such as storage (`db.js`) and online status APIs (`onlineStatus/`).
- `src/config/` centralizes defaults (e.g., background settings).
- `icons/` stores extension icons.
- `manifest.json` and `manifest.firefox.json` define Chrome/Firefox builds.
- `dist/` is generated by the release build script.

## Build, Test, and Development Commands

- `./build-release.sh <version>`: Updates manifest versions, stamps the release timestamp in the options UI, and builds ZIPs in `dist/`.
  - Example: `./build-release.sh 0.5.2`
- Manual dev install:
  - Chrome: `chrome://extensions` → Developer mode → Load unpacked → repo root.
  - Firefox: `about:debugging#/runtime/this-firefox` → Load Temporary Add-on → `manifest.firefox.json`.

There is no automated test runner configured.

## Coding Style & Naming Conventions

- Indentation: 2 spaces in JS/CSS.
- Naming: lowerCamelCase for variables/functions; SCREAMING_SNAKE_CASE for constants.
- Keep modules focused: config in `src/config/`, storage behind `src/lib/db.js`, platform APIs under `src/lib/onlineStatus/`.
- Avoid noisy logging unless guarded by the Debug Logs setting.

## Testing Guidelines

- No framework is configured; no coverage requirements are enforced.
- If you add tests, document how to run them in this file and keep them lightweight.

## Commit & Pull Request Guidelines

- Commit messages are short and imperative (e.g., `Refactor background logic`, `Add online badge toggle`).
- PRs should include a concise summary and manual verification steps.
- For UI changes, include screenshots when practical.

## Notes

- Background entry point: `src/entries/background/index.js` (module service worker).
- Release metadata is injected by `./build-release.sh`.
