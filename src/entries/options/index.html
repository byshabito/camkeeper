<!--
  CamKeeper - Creator profile and livestream bookmark manager
  Copyright (C) 2026  Shabito
 
  This program is free software: you can redistribute it and/or modify
  it under the terms of the GNU General Public License as published by
  the Free Software Foundation, either version 3 of the License, or
  (at your option) any later version.
 
  This program is distributed in the hope that it will be useful,
  but WITHOUT ANY WARRANTY; without even the implied warranty of
  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
  GNU General Public License for more details.
 
  You should have received a copy of the GNU General Public License
  along with this program.  If not, see <https://www.gnu.org/licenses/>.
-->

<!doctype html>
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>CamKeeper Settings</title>
  <link rel="icon" href="../../../icons/icon-16.png" sizes="16x16" />
  <link rel="icon" href="../../../icons/icon-32.png" sizes="32x32" />
  <link rel="icon" href="../../../icons/icon-48.png" sizes="48x48" />
  <link rel="icon" href="../../../icons/icon-128.png" sizes="128x128" />
  <link rel="stylesheet" href="../popup/styles.css" />
  <link rel="stylesheet" href="styles.css" />
  <script type="module" src="script.js" defer></script>
</head>
<body class="embedded settings-page">
  <main class="settings-view edge-to-edge">
    <div class="settings-scope">
      <header class="page-header">
        <div>
          <div class="eyebrow">CamKeeper</div>
          <h1>Settings</h1>
        </div>
        <div class="donation">
          <div class="donation-actions">
            <a href="https://www.buymeacoffee.com/shabito" target="_blank" rel="noopener noreferrer">
              <img
                src="https://cdn.buymeacoffee.com/buttons/v2/default-yellow.png"
                alt="Buy Me A Coffee"
                class="donation-badge"
              />
            </a>
            <button
              id="bitcoin-donate-button"
              class="donation-bitcoin"
              type="button"
              aria-label="Bitcoin donation options"
              title="Bitcoin donation options"
            >
              <svg data-v-52a72b4a="" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true"><path d="M10.864 14.36c.806.213 2.567.678 2.847-.447.287-1.151-1.422-1.534-2.255-1.721-.093-.02-.175-.04-.243-.056l-.542 2.174c.055.013.12.03.193.05zM11.623 11.183c.672.18 2.138.57 2.393-.452.26-1.046-1.164-1.36-1.86-1.515a8.488 8.488 0 01-.203-.047l-.492 1.972c.047.011.101.026.162.042z"></path><path fill-rule="evenodd" d="M9.822 20.73a9 9 0 004.354-17.46A8.998 8.998 0 003.27 9.823 8.997 8.997 0 009.822 20.73zm4.165-12.252c1.247.43 2.16 1.073 1.98 2.27-.13.877-.616 1.302-1.261 1.45.886.462 1.337 1.17.907 2.396-.532 1.522-1.799 1.65-3.483 1.332l-.409 1.638-.987-.246.403-1.616a39.13 39.13 0 01-.787-.204l-.405 1.623-.986-.246.408-1.64-.256-.067-.448-.115-1.285-.320.49-1.13s.728.193.718.178c.28.07.404-.113.453-.234l.646-2.589a9.9 9.9 0 01.084.021l.02.005a.816.816 0 00-.103-.033l.46-1.848c.013-.21-.06-.475-.46-.574.016-.01-.716-.179-.716-.179l.262-1.054 1.362.34v.005c.204.05.415.099.63.148l.405-1.622.986.246-.396 1.59c.265.06.532.121.791.186l.394-1.58.988.247-.405 1.622z" clip-rule="evenodd"></path></svg>
              Bitcoin
            </button>
          </div>
          <p>If you enjoy CamKeeper, consider supporting it ðŸ’›</p>
        </div>
      </header>

      <section class="panel settings-panel">
        <header class="panel-header">
          <h2>Livestream</h2>
          <div class="panel-actions">
            <span
              id="settings-feedback"
              class="settings-feedback"
              role="status"
              aria-live="polite"
            ></span>
          </div>
        </header>
        <div class="export no-divider">
          <div>
            <h3>View time counting</h3>
            <p>Choose whether view time is tracked while a livestream is focused or simply while a livestream page is open.</p>
          </div>
          <div class="actions">
            <select id="view-metric">
              <option value="focus">Livestream in focus</option>
              <option value="open">Livestream open</option>
            </select>
          </div>
        </div>
        <div class="export stacked">
          <div>
            <h3>Supported sites</h3>
            <p>Add livestreaming sites for detection and view tracking. Customize labels, abbreviations, and colors.</p>
          </div>
          <div class="actions">
            <div id="livestream-sites-list" class="site-list"></div>
            <button id="add-livestream-site" class="ghost" type="button">Add site</button>
          </div>
        </div>
      </section>

      <section class="panel">
        <header class="panel-header">
          <h2>Backup</h2>
          <div class="panel-actions">
            <span
              id="backup-feedback"
              class="settings-feedback"
              role="status"
              aria-live="polite"
            ></span>
          </div>
        </header>
        <div class="export no-divider">
          <div>
            <h3>Download backup</h3>
            <p>Export a JSON backup with profiles, folders, and history.</p>
          </div>
          <div class="actions">
            <button id="export-button" class="ghost">Download</button>
          </div>
        </div>
        <div class="export">
          <div>
            <h3>Import backup</h3>
            <p>Restore profiles, folders, and history from a JSON backup.</p>
          </div>
          <div class="actions">
            <button id="import-button" class="ghost" type="button">Import</button>
            <input id="import-input" class="file-input" type="file" accept="application/json" />
          </div>
        </div>
      </section>

      <section class="panel meta-panel">
        <header class="panel-header">
          <h2>About</h2>
        </header>
        <div class="meta-grid">
          <div class="meta-item">
            <span class="meta-label">Version</span>
            <span id="meta-version"></span>
          </div>
          <div class="meta-item">
            <span class="meta-label">Built at</span>
            <span id="meta-release"></span>
          </div>
          <div class="meta-item">
            <span class="meta-label">Developer</span>
            <a id="meta-developer" href="#" target="_blank" rel="noopener noreferrer"></a>
          </div>
          <div class="meta-item">
            <span class="meta-label">Source code</span>
            <a id="meta-source" href="#" target="_blank" rel="noopener noreferrer"></a>
          </div>
          <div class="meta-item">
            <span class="meta-label">License</span>
            <a id="meta-license" href="#" target="_blank" rel="noopener noreferrer"></a>
          </div>
        </div>
      </section>
    </div>
  </main>

  <div id="bitcoin-modal" class="modal hidden" role="dialog" aria-modal="true">
    <div class="modal-content bitcoin-modal" role="document">
      <header class="bitcoin-modal-header">
        <h3>
          <svg data-v-52a72b4a="" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true"><path d="M10.864 14.36c.806.213 2.567.678 2.847-.447.287-1.151-1.422-1.534-2.255-1.721-.093-.02-.175-.04-.243-.056l-.542 2.174c.055.013.12.03.193.05zM11.623 11.183c.672.18 2.138.57 2.393-.452.26-1.046-1.164-1.36-1.86-1.515a8.488 8.488 0 01-.203-.047l-.492 1.972c.047.011.101.026.162.042z"></path><path fill-rule="evenodd" d="M9.822 20.73a9 9 0 004.354-17.46A8.998 8.998 0 003.27 9.823 8.997 8.997 0 009.822 20.73zm4.165-12.252c1.247.43 2.16 1.073 1.98 2.27-.13.877-.616 1.302-1.261 1.45.886.462 1.337 1.17.907 2.396-.532 1.522-1.799 1.65-3.483 1.332l-.409 1.638-.987-.246.403-1.616a39.13 39.13 0 01-.787-.204l-.405 1.623-.986-.246.408-1.64-.256-.067-.448-.115-1.285-.320.49-1.13s.728.193.718.178c.28.07.404-.113.453-.234l.646-2.589a9.9 9.9 0 01.084.021l.02.005a.816.816 0 00-.103-.033l.46-1.848c.013-.21-.06-.475-.46-.574.016-.01-.716-.179-.716-.179l.262-1.054 1.362.34v.005c.204.05.415.099.63.148l.405-1.622.986.246-.396 1.59c.265.06.532.121.791.186l.394-1.58.988.247-.405 1.622z" clip-rule="evenodd"></path></svg>
          Bitcoin tips
        </h3>
      </header>
      <div id="bitcoin-toast" class="bitcoin-toast" role="status" aria-live="polite"></div>
      <p class="muted">
        If you want to support CamKeeper with Bitcoin, copy one of the options below into your
        wallet.
      </p>
      <div class="bitcoin-methods">
        <div class="bitcoin-method">
          <div class="bitcoin-label">Lightning address</div>
          <div class="bitcoin-value" data-copy-value="shabito@walletofsatoshi.com">
            <span>shabito@walletofsatoshi.com</span>
          </div>
        </div>
        <div class="bitcoin-method">
          <div class="bitcoin-label">LNURL</div>
          <div class="bitcoin-value" data-copy-value="lnurl1dp68gurn8ghj7ampd3kx2ar0veekzar0wd5xjtnrdakj7tnhv4kxctttdehhwm30d3h82unvwqhhx6rpvf5hgmc5nxh8w">
            <span>lnurl1dp68gurn8ghj7ampd3kx2ar0veekzar0wd5xjtnrdakj7tnhv4kxctttdehhwm30d3h82unvwqhhx6rpvf5hgmc5nxh8w</span>
          </div>
        </div>
        <div class="bitcoin-method">
          <div class="bitcoin-label">On-chain address</div>
          <div class="bitcoin-value" data-copy-value="bc1qe5zla3dvldndd36rseq47kdgl65xh7q6f0v64h">
            <span>bc1qe5zla3dvldndd36rseq47kdgl65xh7q6f0v64h</span>
          </div>
        </div>
      </div>
      <div class="actions">
        <button id="bitcoin-modal-close-bottom" class="ghost" type="button">Close</button>
      </div>
    </div>
  </div>
</body>
