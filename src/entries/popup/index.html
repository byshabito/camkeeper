<!doctype html>
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>CamKeeper</title>
  <link rel="stylesheet" href="styles.css" />
  <script type="module" src="script.js" defer></script>
  <script type="module" src="../options/script.js" defer></script>
</head>
<body>
  <div id="list-view" class="view">
    <header class="topbar">
      <div>
        <div class="eyebrow">CamKeeper</div>
        <h1>Profiles</h1>
      </div>
      <div class="topbar-actions">
        <button id="select-button" class="plain-button icon-button" type="button" title="Select" aria-label="Select">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-hidden="true" class="lucide lucide-wand-icon lucide-wand"><path d="M15 4V2"/><path d="M15 16v-2"/><path d="M8 9h2"/><path d="M20 9h2"/><path d="M17.8 11.8 19 13"/><path d="M15 9h.01"/><path d="M17.8 6.2 19 5"/><path d="m3 21 9-9"/><path d="M12.2 6.2 11 5"/></svg>
        </button>
        <button id="add-button" class="primary">Add</button>
      </div>
    </header>
    <div id="bulk-bar" class="bulk-bar hidden">
      <div id="bulk-count" class="muted"></div>
      <div class="bulk-actions">
        <button id="bulk-merge" class="plain-button" type="button">Merge</button>
        <button id="bulk-delete" class="plain-button" type="button">Delete</button>
        <button id="bulk-cancel" class="plain-button" type="button">Cancel</button>
      </div>
    </div>
    <div class="list-toolbar">
        <div class="filter-row">
          <button
            id="folder-manager-button"
            class="plain-button icon-button"
            type="button"
            aria-label="Manage folders"
            title="Manage folders"
          >
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-hidden="true" class="lucide lucide-folder-icon lucide-folder"><path d="M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z"/></svg>
          </button>
          <select id="folder-filter"></select>
          <label class="filter-toggle">
            <input id="online-filter" type="checkbox" />
            Online
          </label>
        </div>
      <div class="search-sort">
        <button class="plain-button icon-button search-toggle" type="button" aria-label="Search">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-hidden="true"><circle cx="11" cy="11" r="7"/><path d="m20 20-3.5-3.5"/></svg>
        </button>
        <input id="search-input" class="search-input" type="text" placeholder="Search models, tags, socials, folders" />
        <div class="sort-field">
          <select id="sort-select">
            <option value="month">Most viewed (30 days)</option>
            <option value="most">Most viewed</option>
            <option value="recent">Recently viewed</option>
            <option value="updated">Recently updated</option>
            <option value="name">Name Aâ€“Z</option>
          </select>
        </div>
      </div>
      
    </div>
    <ul id="profile-list" class="list"></ul>
    <div id="empty-state" class="empty hidden">No profiles yet.</div>
  </div>

  <div id="folder-view" class="view hidden">
    <header class="topbar topbar-right-title">
      <button id="folder-back" class="plain-button icon-button" aria-label="Back" title="Back">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-hidden="true">
          <path d="m12 19-7-7 7-7"/>
          <path d="M19 12H5"/>
        </svg>
      </button>
      <div>
        <div class="eyebrow">CamKeeper</div>
        <h1>Folders</h1>
      </div>
      <div class="topbar-actions"></div>
    </header>

    <div id="folder-empty" class="empty hidden">No folders yet.</div>
    <div id="folder-list" class="folder-list"></div>
  </div>

  <div id="detail-view" class="view hidden">
    <header class="topbar">
      <button id="detail-back" class="plain-button icon-button" aria-label="Back" title="Back">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-hidden="true">
          <path d="m12 19-7-7 7-7"/>
          <path d="M19 12H5"/>
        </svg>
      </button>
      <div>
        <div class="eyebrow">CamKeeper</div>
        <h1 id="detail-title">Profile</h1>
      </div>
      <div class="topbar-actions">
        <button id="detail-pin" class="plain-button" type="button">Pin</button>
        <button id="detail-edit" class="primary">Edit</button>
      </div>
    </header>

    <section class="detail-card">
      <div class="detail-head">
        <div>
          <div class="eyebrow">Model</div>
          <h2 id="detail-name">Unnamed</h2>
        </div>
        <div class="detail-meta">
          <span id="detail-meta" class="muted"></span>
          <div id="detail-folder" class="detail-folder hidden"></div>
        </div>
      </div>

      <div class="detail-block">
        <div class="detail-label">Cams</div>
        <div id="detail-cams" class="chips"></div>
      </div>

      <div class="detail-block">
        <div class="detail-label">Socials</div>
        <div id="detail-socials" class="chips"></div>
      </div>

      <div class="detail-block">
        <div class="detail-label">Tags</div>
        <div id="detail-tags" class="chips"></div>
      </div>

      <div class="detail-block">
        <div class="detail-label">Notes</div>
        <div id="detail-notes" class="note"></div>
      </div>

    </section>
  </div>

  <div id="form-view" class="view hidden">
    <header class="topbar topbar-right-title">
      <button id="back-button" class="plain-button icon-button" aria-label="Back" title="Back">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-hidden="true">
          <path d="m12 19-7-7 7-7"/>
          <path d="M19 12H5"/>
        </svg>
      </button>
      <div>
        <div class="eyebrow">CamKeeper</div>
        <h1 id="form-title">New profile</h1>
      </div>
    </header>

    <div id="form-error" class="error hidden"></div>

    <form id="profile-form" class="form">
      <label id="attach-field" class="field compact hidden">
        <span>Add to existing</span>
        <select id="attach-select"></select>
      </label>
      <label class="field">
        <span>Display name</span>
        <input id="name-input" type="text" placeholder="Display name" />
      </label>

      <label class="field">
        <span>Cams</span>
        <section class="block block-plain">
          <div id="cam-rows" class="rows"></div>
          <button id="add-cam" type="button" class="plain-button icon-button" aria-label="Add cam" title="Add cam">+</button>
        </section>
      </label>

      <label class="field">
        <span>Socials</span>
        <section class="block block-plain">
          <div id="social-rows" class="rows"></div>
          <button id="add-social" type="button" class="plain-button icon-button" aria-label="Add social" title="Add social">+</button>
        </section>
      </label>

      <label class="field">
        <span>Tags</span>
        <input id="tags-input" type="text" placeholder="e.g. cozy, bilingual" />
      </label>

      <label class="field">
        <span>Folder</span>
        <div class="field-stack">
          <select id="folder-select"></select>
          <input id="folder-input" class="hidden" type="text" placeholder="New folder name" />
        </div>
      </label>

      <label class="field">
        <span>Notes</span>
        <textarea id="notes-input" placeholder="Notes"></textarea>
      </label>

      <div class="actions">
        <button type="button" id="delete-button" class="danger">Delete</button>
        <button type="button" id="cancel-button" class="ghost">Cancel</button>
        <button type="submit" class="primary">Save</button>
      </div>
    </form>
  </div>

  <div id="settings-view" class="view hidden settings-view edge-to-edge">
    <div class="settings-scope">
      <header class="page-header">
        <div>
          <div class="eyebrow">CamKeeper</div>
          <h1>Settings</h1>
        </div>
        <div class="donation">
          <div class="donation-actions">
            <a href="https://www.buymeacoffee.com/shabito" target="_blank" rel="noopener noreferrer">
              <img
                src="https://cdn.buymeacoffee.com/buttons/v2/default-yellow.png"
                alt="Buy Me A Coffee"
                class="donation-badge"
              />
            </a>
            <button
              id="bitcoin-donate-button"
              class="donation-bitcoin"
              type="button"
              aria-label="Bitcoin donation options"
              title="Bitcoin donation options"
            >
              <svg data-v-52a72b4a="" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true"><path d="M10.864 14.36c.806.213 2.567.678 2.847-.447.287-1.151-1.422-1.534-2.255-1.721-.093-.02-.175-.04-.243-.056l-.542 2.174c.055.013.12.03.193.05zM11.623 11.183c.672.18 2.138.57 2.393-.452.26-1.046-1.164-1.36-1.86-1.515a8.488 8.488 0 01-.203-.047l-.492 1.972c.047.011.101.026.162.042z"></path><path fill-rule="evenodd" d="M9.822 20.73a9 9 0 004.354-17.46A8.998 8.998 0 003.27 9.823 8.997 8.997 0 009.822 20.73zm4.165-12.252c1.247.43 2.16 1.073 1.98 2.27-.13.877-.616 1.302-1.261 1.45.886.462 1.337 1.17.907 2.396-.532 1.522-1.799 1.65-3.483 1.332l-.409 1.638-.987-.246.403-1.616a39.13 39.13 0 01-.787-.204l-.405 1.623-.986-.246.408-1.64-.256-.067-.448-.115-1.285-.32.49-1.13s.728.193.718.178c.28.07.404-.113.453-.234l.646-2.589a9.9 9.9 0 01.084.021l.02.005a.816.816 0 00-.103-.033l.46-1.848c.013-.21-.06-.475-.46-.574.016-.01-.716-.179-.716-.179l.262-1.054 1.362.34v.005c.204.05.415.099.63.148l.405-1.622.986.246-.396 1.59c.265.06.532.121.791.186l.394-1.58.988.247-.405 1.622z" clip-rule="evenodd"></path></svg>
              Bitcoin
            </button>
          </div>
          <p>If you enjoy CamKeeper, consider supporting it ðŸ’›</p>
        </div>
      </header>

      <section class="panel">
        <header class="panel-header">
          <h2>Backup</h2>
        </header>
        <div class="export no-divider">
          <div>
            <h3>Download backup</h3>
            <p>Export a JSON backup with profiles, folders, and history.</p>
          </div>
          <div class="actions">
            <button id="export-button" class="ghost">Download</button>
          </div>
        </div>
        <div class="export">
          <div>
            <h3>Import backup</h3>
            <p>Restore profiles, folders, and history from a JSON backup.</p>
          </div>
          <div class="actions">
            <label class="file-button ghost">
              Import
              <input id="import-input" type="file" accept="application/json" />
            </label>
          </div>
        </div>
      </section>

      <section class="panel settings-panel">
        <header class="panel-header">
          <h2>Configuration</h2>
          <div class="panel-actions">
            <span
              id="settings-feedback"
              class="settings-feedback"
              role="status"
              aria-live="polite"
            ></span>
            <button id="visit-save" class="primary">Save</button>
          </div>
        </header>
        <div class="export no-divider">
          <div>
            <h3>Enable online status checks</h3>
            <p>Show online/offline status for profiles in the list and detail views.</p>
          </div>
          <div class="actions">
            <label class="toggle">
              <input id="online-check" type="checkbox" />
            </label>
          </div>
        </div>
        <div class="export">
          <div>
            <h3>Enable background checks</h3>
            <p>Update status in the background and show the number of online profiles in the badge.</p>
          </div>
          <div class="actions">
            <label class="toggle">
              <input id="background-online-check" type="checkbox" />
            </label>
          </div>
        </div>
        <div class="export">
          <div>
            <h3>Background check interval (min)</h3>
            <p>How often CamKeeper refreshes online status in the background (min 3).</p>
          </div>
          <div class="actions">
            <input id="online-check-interval" type="number" min="3" step="1" />
          </div>
        </div>
        <div class="export">
          <div>
            <h3>Debug logs</h3>
            <p>Enable extra logs in the background service worker for troubleshooting.</p>
          </div>
          <div class="actions">
            <label class="toggle">
              <input id="debug-logs" type="checkbox" />
            </label>
          </div>
        </div>
      </section>

      <section class="panel meta-panel">
        <header class="panel-header">
          <h2>About</h2>
        </header>
        <div class="meta-grid">
          <div class="meta-item">
            <span class="meta-label">Version</span>
            <span id="meta-version"></span>
          </div>
          <div class="meta-item">
            <span class="meta-label">Build time</span>
            <span id="meta-release"></span>
          </div>
          <div class="meta-item">
            <span class="meta-label">Developer</span>
            <a id="meta-developer" href="#" target="_blank" rel="noopener noreferrer"></a>
          </div>
          <div class="meta-item">
            <span class="meta-label">Source code</span>
            <a id="meta-source" href="#" target="_blank" rel="noopener noreferrer"></a>
          </div>
          <div class="meta-item">
            <span class="meta-label">License</span>
            <a id="meta-license" href="#" target="_blank" rel="noopener noreferrer"></a>
          </div>
        </div>
      </section>
    </div>
  </div>

  <button id="settings-toggle" class="settings-toggle" type="button" aria-label="Settings page" title="Settings page">
    <svg class="settings-icon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true"><path d="M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915"/><circle cx="12" cy="12" r="3"/></svg>
    <svg class="overview-icon hidden" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true"><circle cx="12" cy="12" r="10"/><path d="m12 8-4 4 4 4"/><path d="M16 12H8"/></svg>
  </button>

  <div id="confirm-modal" class="modal hidden">
    <div class="modal-content">
      <h3 id="confirm-title">Confirm</h3>
      <p id="confirm-message"></p>
      <ul id="confirm-list" class="confirm-list"></ul>
      <div class="confirm-actions">
        <button id="confirm-cancel" class="ghost" type="button">Cancel</button>
        <button id="confirm-accept" class="danger" type="button">Delete</button>
      </div>
    </div>
  </div>

  <div id="bitcoin-modal" class="modal hidden" role="dialog" aria-modal="true">
    <div class="modal-content bitcoin-modal" role="document">
      <header class="bitcoin-modal-header">
        <h3>
          <svg data-v-52a72b4a="" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true"><path d="M10.864 14.36c.806.213 2.567.678 2.847-.447.287-1.151-1.422-1.534-2.255-1.721-.093-.02-.175-.04-.243-.056l-.542 2.174c.055.013.12.03.193.05zM11.623 11.183c.672.18 2.138.57 2.393-.452.26-1.046-1.164-1.36-1.86-1.515a8.488 8.488 0 01-.203-.047l-.492 1.972c.047.011.101.026.162.042z"></path><path fill-rule="evenodd" d="M9.822 20.73a9 9 0 004.354-17.46A8.998 8.998 0 003.27 9.823 8.997 8.997 0 009.822 20.73zm4.165-12.252c1.247.43 2.16 1.073 1.98 2.27-.13.877-.616 1.302-1.261 1.45.886.462 1.337 1.17.907 2.396-.532 1.522-1.799 1.65-3.483 1.332l-.409 1.638-.987-.246.403-1.616a39.13 39.13 0 01-.787-.204l-.405 1.623-.986-.246.408-1.64-.256-.067-.448-.115-1.285-.32.49-1.13s.728.193.718.178c.28.07.404-.113.453-.234l.646-2.589a9.9 9.9 0 01.084.021l.02.005a.816.816 0 00-.103-.033l.46-1.848c.013-.21-.06-.475-.46-.574.016-.01-.716-.179-.716-.179l.262-1.054 1.362.34v.005c.204.05.415.099.63.148l.405-1.622.986.246-.396 1.59c.265.06.532.121.791.186l.394-1.58.988.247-.405 1.622z" clip-rule="evenodd"></path></svg>
          Bitcoin tips
        </h3>
      </header>
      <div id="bitcoin-toast" class="bitcoin-toast" role="status" aria-live="polite"></div>
      <p class="muted">
        If you want to support CamKeeper with Bitcoin, copy one of the options below into your
        wallet.
      </p>
      <div class="bitcoin-methods">
        <div class="bitcoin-method">
          <div class="bitcoin-label">Lightning address</div>
          <div class="bitcoin-value" data-copy-value="shabito@walletofsatoshi.com">
            <span>shabito@walletofsatoshi.com</span>
          </div>
        </div>
        <div class="bitcoin-method">
          <div class="bitcoin-label">LNURL</div>
          <div class="bitcoin-value" data-copy-value="lnurl1dp68gurn8ghj7ampd3kx2ar0veekzar0wd5xjtnrdakj7tnhv4kxctttdehhwm30d3h82unvwqhhx6rpvf5hgmc5nxh8w">
            <span>lnurl1dp68gurn8ghj7ampd3kx2ar0veekzar0wd5xjtnrdakj7tnhv4kxctttdehhwm30d3h82unvwqhhx6rpvf5hgmc5nxh8w</span>
          </div>
        </div>
        <div class="bitcoin-method">
          <div class="bitcoin-label">On-chain address</div>
          <div class="bitcoin-value" data-copy-value="bc1qe5zla3dvldndd36rseq47kdgl65xh7q6f0v64h">
            <span>bc1qe5zla3dvldndd36rseq47kdgl65xh7q6f0v64h</span>
          </div>
        </div>
      </div>
      <div class="actions">
        <button id="bitcoin-modal-close-bottom" class="ghost" type="button">Close</button>
      </div>
    </div>
  </div>
</body>
