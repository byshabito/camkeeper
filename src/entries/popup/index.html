<!--
  CamKeeper - Bookmark manager for webcam model profiles
  Copyright (C) 2026  Shabito
 
  This program is free software: you can redistribute it and/or modify
  it under the terms of the GNU General Public License as published by
  the Free Software Foundation, either version 3 of the License, or
  (at your option) any later version.
 
  This program is distributed in the hope that it will be useful,
  but WITHOUT ANY WARRANTY; without even the implied warranty of
  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
  GNU General Public License for more details.
 
  You should have received a copy of the GNU General Public License
  along with this program.  If not, see <https://www.gnu.org/licenses/>.
-->

<!doctype html>
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>CamKeeper</title>
  <link rel="icon" href="../../../icons/icon-16.png" sizes="16x16" />
  <link rel="icon" href="../../../icons/icon-32.png" sizes="32x32" />
  <link rel="icon" href="../../../icons/icon-48.png" sizes="48x48" />
  <link rel="icon" href="../../../icons/icon-128.png" sizes="128x128" />
  <link rel="stylesheet" href="styles.css" />
  <script type="module" src="script.js" defer></script>
</head>
<body>
  <div id="list-view" class="view">
    <header class="topbar">
      <div>
        <div class="eyebrow">CamKeeper</div>
        <h1>Profiles</h1>
      </div>
      <div class="topbar-actions">
        <button id="select-button" class="plain-button icon-button" type="button" title="Select" aria-label="Select">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-hidden="true" class="lucide lucide-wand-icon lucide-wand"><path d="M15 4V2"/><path d="M15 16v-2"/><path d="M8 9h2"/><path d="M20 9h2"/><path d="M17.8 11.8 19 13"/><path d="M15 9h.01"/><path d="M17.8 6.2 19 5"/><path d="m3 21 9-9"/><path d="M12.2 6.2 11 5"/></svg>
        </button>
        <button id="add-button" class="primary">Add</button>
      </div>
    </header>
    <div id="bulk-bar" class="bulk-bar hidden">
      <div id="bulk-count" class="muted"></div>
      <div class="bulk-actions">
        <button id="bulk-merge" class="plain-button" type="button">Merge</button>
        <button id="bulk-delete" class="plain-button" type="button">Delete</button>
        <button id="bulk-cancel" class="plain-button" type="button">Cancel</button>
      </div>
    </div>
    <div class="list-toolbar">
        <div class="filter-row">
          <button
            id="folder-manager-button"
            class="plain-button icon-button"
            type="button"
            aria-label="Manage folders"
            title="Manage folders"
          >
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-hidden="true" class="lucide lucide-folder-icon lucide-folder"><path d="M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z"/></svg>
          </button>
          <select id="folder-filter"></select>
        </div>
      <div class="search-sort">
        <button class="plain-button icon-button search-toggle" type="button" aria-label="Search">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-hidden="true"><circle cx="11" cy="11" r="7"/><path d="m20 20-3.5-3.5"/></svg>
        </button>
        <input id="search-input" class="search-input" type="text" placeholder="Search models, tags, socials, folders" />
        <div class="sort-field">
          <select id="sort-select">
            <option value="month">Most viewed (30 days)</option>
            <option value="most">Most viewed</option>
            <option value="recent">Recently viewed</option>
            <option value="updated">Recently updated</option>
            <option value="name">Name Aâ€“Z</option>
          </select>
        </div>
      </div>
      
    </div>
    <ul id="profile-list" class="list"></ul>
    <div id="empty-state" class="empty hidden">No profiles yet.</div>
  </div>

  <div id="folder-view" class="view hidden">
    <header class="topbar topbar-right-title">
      <button id="folder-back" class="plain-button icon-button" aria-label="Back" title="Back">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-hidden="true">
          <path d="m12 19-7-7 7-7"/>
          <path d="M19 12H5"/>
        </svg>
      </button>
      <div>
        <div class="eyebrow">CamKeeper</div>
        <h1>Folders</h1>
      </div>
      <div class="topbar-actions"></div>
    </header>

    <div id="folder-empty" class="empty hidden">No folders yet.</div>
    <div id="folder-list" class="folder-list"></div>
  </div>

  <div id="detail-view" class="view hidden">
    <header class="topbar">
      <button id="detail-back" class="plain-button icon-button" aria-label="Back" title="Back">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-hidden="true">
          <path d="m12 19-7-7 7-7"/>
          <path d="M19 12H5"/>
        </svg>
      </button>
      <div>
        <div class="eyebrow">CamKeeper</div>
        <h1 id="detail-title">Profile</h1>
      </div>
      <div class="topbar-actions">
        <button id="detail-pin" class="plain-button" type="button">Pin</button>
        <button id="detail-edit" class="primary">Edit</button>
      </div>
    </header>

    <section class="detail-card">
      <div class="detail-head">
        <div>
          <div class="eyebrow">Model</div>
          <h2 id="detail-name">Unnamed</h2>
        </div>
        <div class="detail-meta">
          <span id="detail-meta" class="muted"></span>
          <div id="detail-folder" class="detail-folder hidden"></div>
        </div>
      </div>

      <div class="detail-block">
        <div class="detail-label">Cams</div>
        <div id="detail-cams" class="chips"></div>
      </div>

      <div class="detail-block">
        <div class="detail-label">Socials</div>
        <div id="detail-socials" class="chips"></div>
      </div>

      <div class="detail-block">
        <div class="detail-label">Tags</div>
        <div id="detail-tags" class="chips"></div>
      </div>

      <div class="detail-block">
        <div class="detail-label">Notes</div>
        <div id="detail-notes" class="note"></div>
      </div>

    </section>
  </div>

  <div id="form-view" class="view hidden">
    <header class="topbar topbar-right-title">
      <button id="back-button" class="plain-button icon-button" aria-label="Back" title="Back">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-hidden="true">
          <path d="m12 19-7-7 7-7"/>
          <path d="M19 12H5"/>
        </svg>
      </button>
      <div>
        <div class="eyebrow">CamKeeper</div>
        <h1 id="form-title">New profile</h1>
      </div>
    </header>

    <div id="form-error" class="error hidden"></div>

    <form id="profile-form" class="form">
      <label id="attach-field" class="field compact hidden">
        <span>Add to existing</span>
        <select id="attach-select"></select>
      </label>
      <label class="field">
        <span>Display name</span>
        <input id="name-input" type="text" placeholder="Display name" />
      </label>

      <label class="field">
        <span>Cams</span>
        <section class="block block-plain">
          <div id="cam-rows" class="rows"></div>
          <button id="add-cam" type="button" class="plain-button icon-button" aria-label="Add cam" title="Add cam">+</button>
        </section>
      </label>

      <label class="field">
        <span>Socials</span>
        <section class="block block-plain">
          <div id="social-rows" class="rows"></div>
          <button id="add-social" type="button" class="plain-button icon-button" aria-label="Add social" title="Add social">+</button>
        </section>
      </label>

      <label class="field">
        <span>Tags</span>
        <input id="tags-input" type="text" placeholder="e.g. cosplay, cute" />
      </label>

      <label class="field">
        <span>Folder</span>
        <div class="field-stack">
          <select id="folder-select"></select>
          <input id="folder-input" class="hidden" type="text" placeholder="New folder name" />
        </div>
      </label>

      <label class="field">
        <span>Notes</span>
        <textarea id="notes-input" placeholder="Notes"></textarea>
      </label>

      <div class="actions">
        <button type="button" id="delete-button" class="danger">Delete</button>
        <button type="button" id="cancel-button" class="ghost">Cancel</button>
        <button type="submit" class="primary">Save</button>
      </div>
    </form>
  </div>

  

  <button id="settings-toggle" class="settings-toggle" type="button" aria-label="Settings page" title="Settings page">
    <svg class="settings-icon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true"><path d="M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915"/><circle cx="12" cy="12" r="3"/></svg>
    <svg class="overview-icon hidden" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true"><circle cx="12" cy="12" r="10"/><path d="m12 8-4 4 4 4"/><path d="M16 12H8"/></svg>
  </button>

  <div id="confirm-modal" class="modal hidden">
    <div class="modal-content">
      <h3 id="confirm-title">Confirm</h3>
      <p id="confirm-message"></p>
      <ul id="confirm-list" class="confirm-list"></ul>
      <div class="confirm-actions">
        <button id="confirm-cancel" class="ghost" type="button">Cancel</button>
        <button id="confirm-accept" class="danger" type="button">Delete</button>
      </div>
    </div>
  </div>

  </body>
